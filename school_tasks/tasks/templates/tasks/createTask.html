{% extends "base.html" %}
{% load static %}

{% block title %}Create a new task{% endblock %}

{% block header %}
<link rel="stylesheet" href="{% static 'tasks/css/taskCreate.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="container">  <h2 class="text-center">Create a new task <i class="fas fa-tasks"></i></h2>
  
  <form id="taskForm" method="POST">
      {% csrf_token %}
      {% if form.non_field_errors %}
      <div class="form-errors">
          {% for error in form.non_field_errors %}
              <p class="error-message">{{ error }}</p>
          {% endfor %}
      </div>
      {% endif %}    <div class="form-group">
      <label><i class="fa fa-heading"></i> Task Title</label>
      {{ form.title }}
      {% if form.title.errors %}
          <div class="field-errors">
              {% for error in form.title.errors %}
                  <span class="error-message">{{ error }}</span>
              {% endfor %}
          </div>
      {% endif %}
    </div>

    <div class="form-group">
      <label><i class="fa fa-book"></i> Subject</label>
      {{ form.subject }}
      {% if form.subject.errors %}
          <div class="field-errors">
              {% for error in form.subject.errors %}
                  <span class="error-message">{{ error }}</span>
              {% endfor %}
          </div>
      {% endif %}
    </div>

    <div class="form-group">
      <label><i class="fa fa-flag"></i> Priority</label>
      {{ form.priority }}
      {% if form.priority.errors %}
          <div class="field-errors">
              {% for error in form.priority.errors %}
                  <span class="error-message">{{ error }}</span>
              {% endfor %}
          </div>
      {% endif %}
    </div>

    <div class="form-group">
      <label><i class="fa fa-align-left"></i> Description</label>
      {{ form.description }}
      {% if form.description.errors %}
          <div class="field-errors">
              {% for error in form.description.errors %}
                  <span class="error-message">{{ error }}</span>
              {% endfor %}
          </div>
      {% endif %}
    </div>

    <div class="form-group">
      <label><i class="fa fa-calendar-alt"></i> Due Date</label>
      {{ form.due_date }}
      {% if form.due_date.errors %}
          <div class="field-errors">
              {% for error in form.due_date.errors %}
                  <span class="error-message">{{ error }}</span>
              {% endfor %}
          </div>
      {% endif %}
    </div>

    <div class="form-group">
      <label><i class="fa fa-users"></i> Assign To</label>
      {{ form.assigned_to }}
      {% if form.assigned_to.errors %}
          <div class="field-errors">
              {% for error in form.assigned_to.errors %}
                  <span class="error-message">{{ error }}</span>
              {% endfor %}
          </div>
      {% endif %}
    </div>

    <button type="submit" class="submit-btn">
      <i class="fas fa-plus"></i> Create Task
    </button>
  </form>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'tasks/js/taskCreate.js' %}"></script>
</script>
{% endblock %}
